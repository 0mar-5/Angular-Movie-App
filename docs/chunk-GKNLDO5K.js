import{c as q,d as I}from"./chunk-S2E26LAG.js";import{b as h,c,e as M,f as E,g as F,h as f,j as S,k as O,l as T,n as N}from"./chunk-MRALMNQ7.js";import"./chunk-U5VVZVDQ.js";import"./chunk-TBYF2LDC.js";import{P as b}from"./chunk-CNRG4DXS.js";import{t as y}from"./chunk-Q3RTI6EG.js";import{Bb as x,Cb as p,Na as d,Qb as l,Sa as P,Ya as R,a as w,nb as m,ob as s,rb as v,sb as a,tb as r,ub as g}from"./chunk-OPX47V4V.js";function D(e,n){e&1&&(a(0,"p"),l(1,"This Field is Required"),r())}function G(e,n){e&1&&(a(0,"p"),l(1,"This Field should be more than 4 letters"),r())}function V(e,n){if(e&1&&(m(0,D,2,0,"p"),m(1,G,2,0,"p")),e&2){let t,i,o=p();s((t=o.myReactiveForm.get("name"))!=null&&t.getError("required")?0:-1),d(),s((i=o.myReactiveForm.get("name"))!=null&&i.getError("minlength")?1:-1)}}function z(e,n){e&1&&(a(0,"p"),l(1,"This Field is Required"),r())}function A(e,n){e&1&&(a(0,"p"),l(1,"Email is not valid"),r())}function U(e,n){if(e&1&&(m(0,z,2,0,"p"),m(1,A,2,0,"p")),e&2){let t,i,o=p();s((t=o.myReactiveForm.get("email"))!=null&&t.getError("required")?0:-1),d(),s((i=o.myReactiveForm.get("email"))!=null&&i.getError("pattern")?1:-1)}}function Z(e,n){e&1&&(a(0,"p"),l(1,"This Field is Required"),r())}function j(e,n){e&1&&(a(0,"p"),l(1,"password must have at least 8 characters"),r())}function J(e,n){if(e&1&&(m(0,Z,2,0,"p"),m(1,j,2,0,"p")),e&2){let t,i,o=p();s((t=o.myReactiveForm.get("password"))!=null&&t.getError("required")?0:-1),d(),s((i=o.myReactiveForm.get("password"))!=null&&i.getError("pattern")?1:-1)}}function $(e,n){e&1&&(a(0,"p"),l(1,"This Field is Required"),r())}function L(e,n){e&1&&(a(0,"p"),l(1,"Passwords do not match"),r())}function Y(e,n){if(e&1&&(m(0,$,2,0,"p"),m(1,L,2,0,"p")),e&2){let t,i,o=p();s((t=o.myReactiveForm.get("confermPassword"))!=null&&t.getError("required")?0:-1),d(),s((i=o.myReactiveForm.get("confermPassword"))!=null&&i.getError("passwordMismatch")?1:-1)}}function B(e){let n=e.get("password"),t=e.get("confermPassword");return!n||!t||t.value===null?null:n.value!==t.value?(t.setErrors({passwordMismatch:!0}),{passwordMismatch:!0}):(t.hasError("passwordMismatch")&&t.setErrors(null),null)}var k=class e{constructor(n,t){this.messageService=n;this.router=t}myReactiveForm;ngOnInit(){this.myReactiveForm=new F({name:new f("",[c.required,c.minLength(4)]),email:new f("",[c.required,c.pattern("[^\\s@]+@[^\\s@]+\\.[^\\s@]+$")]),password:new f("",[c.required,c.pattern("^(?=.*[A-Za-z])(?=.*d)[A-Za-zd]{7,}$")]),confermPassword:new f("",[c.required])},{validators:B})}formSubmit(){if(this.myReactiveForm.valid){let n=this.myReactiveForm.value;delete n.confermPassword;let t=JSON.parse(localStorage.getItem("users")||"[]");if(t.find(u=>u.email===n.email)){this.messageService.add({severity:"warn",summary:"Email Exists",detail:"This email is already registered."});return}let o=w({id:Date.now()},n);t.push(o),localStorage.setItem("users",JSON.stringify(t)),this.messageService.add({severity:"success",summary:"Registration Successful",detail:"You can now log in with your account."}),this.myReactiveForm.reset(),setTimeout(()=>{this.router.navigate(["/login"])},1e3)}}static \u0275fac=function(t){return new(t||e)(P(b),P(y))};static \u0275cmp=R({type:e,selectors:[["app-register-page"]],decls:27,vars:8,consts:[["position","top-center",3,"baseZIndex","life"],[3,"ngSubmit","formGroup"],["for","name"],["id","name","type","text","formControlName","name","autocomplete","name"],["for","email"],["id","email","type","email","formControlName","email","autocomplete","email"],["for","password"],["id","password","type","password","formControlName","password"],["for","confermPassword"],["id","confermPassword","type","password","formControlName","confermPassword"],[3,"disabled"]],template:function(t,i){if(t&1&&(a(0,"section"),g(1,"p-toast",0),a(2,"form",1),x("ngSubmit",function(){return i.formSubmit()}),a(3,"h2"),l(4,"Register form"),r(),a(5,"div")(6,"label",2),l(7,"Name"),r(),g(8,"input",3),m(9,V,2,2),r(),a(10,"div")(11,"label",4),l(12,"Email"),r(),g(13,"input",5),m(14,U,2,2),r(),a(15,"div")(16,"label",6),l(17,"Password"),r(),g(18,"input",7),m(19,J,2,2),r(),a(20,"div")(21,"label",8),l(22,"Conferm Password"),r(),g(23,"input",9),m(24,Y,2,2),r(),a(25,"button",10),l(26,"Register"),r()()()),t&2){let o,u,_,C;d(),v("baseZIndex",1e4)("life",2e3),d(),v("formGroup",i.myReactiveForm),d(7),s((o=i.myReactiveForm.get("name"))!=null&&o.touched&&((o=i.myReactiveForm.get("name"))!=null&&o.errors)?9:-1),d(5),s((u=i.myReactiveForm.get("email"))!=null&&u.touched&&((u=i.myReactiveForm.get("email"))!=null&&u.errors)?14:-1),d(5),s((_=i.myReactiveForm.get("password"))!=null&&_.touched&&((_=i.myReactiveForm.get("password"))!=null&&_.errors)?19:-1),d(5),s((C=i.myReactiveForm.get("confermPassword"))!=null&&C.touched&&((C=i.myReactiveForm.get("confermPassword"))!=null&&C.errors)?24:-1),d(),v("disabled",!i.myReactiveForm.valid)}},dependencies:[N,S,h,M,E,O,T,I,q],styles:["form[_ngcontent-%COMP%]{max-width:500px;margin:2rem auto;padding:2rem;background-color:var(--primary-500);border-radius:1rem;box-shadow:0 6px 16px #0000000d;font-family:Segoe UI,sans-serif}form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;color:#fff;margin-bottom:1.5rem}form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1.2rem}form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;margin-bottom:.5rem;color:var(--primary-contrast-500)}form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:.5rem .75rem;border:1px solid #ccc;border-radius:.5rem;background-color:var(--p-inputtext-background)!important;font-size:1rem;transition:border .3s ease}form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#34d399;outline:none;background-color:#f9fff9}form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:invalid.ng-touched{border-color:#e63946}form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#e63946;font-size:.875rem;margin-top:.4rem;padding-left:.2rem}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;padding:.75rem;background-color:#2d6a4f;color:#fff;border:none;border-radius:.5rem;font-size:1rem;font-weight:700;cursor:pointer;transition:background-color .3s ease}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#1e5639}@media (max-width: 600px){form[_ngcontent-%COMP%]{padding:1.5rem}}"]})};export{k as RegisterPage};
